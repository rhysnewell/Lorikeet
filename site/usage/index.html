<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Usage</title>
    <meta name="description" content="Documentation for Lorikeet">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="/assets/normalize.css?v=1636941293" media="screen" />
    <link rel="stylesheet" type="text/css" href="/assets/doctave-style.css?v=1636941293" media="screen" />

    <link rel="stylesheet" type="text/css" href="/assets/prism-ghcolors.css?v=1636941293" media="screen" />

    

    <script>
        var DOCTAVE_TIMESTAMP = "1636941293";
        var BASE_PATH = "/";
        var color = localStorage.getItem('doctave-color')

        if (color === 'dark') {
            document.getElementsByTagName('html')[0].classList.remove('light');
            document.getElementsByTagName('html')[0].classList.add('dark');
        } else {
            document.getElementsByTagName('html')[0].classList.remove('dark');
            document.getElementsByTagName('html')[0].classList.add('light');
        }
    </script>

    
</head>

<body>
    <label for='menu-toggle-switch' class='menu-toggle-button'>
        â˜°
    </label>
    <input type="checkbox" id="menu-toggle-switch" value='0' />
    <div class='page'>
        <div class='header'>
            <div class='logo'>
                
                <h2 class='project-name'>
                    <a href="/">
                        Lorikeet
                    </a>
                </h2>
            </div>
            <div class='search'>
                <form id='search-form'>
    <input type='text' id='search-box' autocomplete="off" placeholder="Search..."></input>
    <span class='search-icon'>S</span>
    <ul id='search-results'></ul>
</form>

            </div>
            <div class='header-dummy-right'>
            </div>
        </div>
        <div class='container'>
            <div class='sidebar-left'>
                <nav class='site-nav'>
    <ul>
        
            <li><a href="/installation">Installation</a></li>
            
        
            <li><a class="active" href="/usage">Usage</a></li>
            
                <ul>
    
        <li><a href="/usage/variant_calling">Call</a></li>
        
    
        <li><a href="/usage/genotyping">Genotype</a></li>
        
    
</ul>

            
        
            <li><a href="/concepts">Concepts</a></li>
            
        
            <li><a href="/examples">Examples</a></li>
            
        
            <li><a href="/comparisons">Comparisons</a></li>
            
        
    </ul>
    <span id='light-dark-mode-switch'>
        <svg xmlns="http://www.w3.org/2000/svg" id="dark-mode-icon" viewBox="0 0 20 20" fill="currentColor">
            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
        </svg>

        <svg xmlns="http://www.w3.org/2000/svg" id="light-mode-icon" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd" />
        </svg>
    </span>
</nav>

            </div>
            <div class='content'>
                <h1 id="getting-started-1">Getting started</h1>
<p>Input can either be reads and reference genome, or MAG. Or a BAM file and associated genome.</p>
<p>Using <code>lorikeet -h</code> will provide the following message:</p>
<pre><code>Strain genotyping analysis for metagenomics

Usage: lorikeet &lt;subcommand&gt; ...

Main subcommands:
    genotype    Resolve strain-level genotypes of MAGs from microbial communities
    consensus   Creates consensus genomes for each input reference and for each sample
    call        Performs variant calling with no downstream analysis
    evolve      *unavailable* Calculate dN/dS values for genes from read mappings

Other options:
    -V, --version   Print version information

Rhys J. P. Newell &lt;rhys.newell near hdr.qut.edu.au&gt;
</code></pre>
<h1 id="quick-start-2">Quick Start</h1>
<p>As a simple example, imagine we have a single sample where the reads have previously mapped to our metagenome or set
of references using <a href="https://github.com/wwood/coverm">CoverM</a> or Lorikeet:</p>
<pre><code>lorikeet call --bam-files my.bam --genome-fasta-directory genomes/ -x fna --output-directory lorikeet_out/ --threads 10
</code></pre>
<p>One of the parts of what makes Lorikeet faster than other available metagenomic variant calling tools is that it is
capable of handling multiple reference and samples at a time. If you provide Lorikeet with multiple references and mutliple samples
it will handle the mapping of all those samples on to all of the reference for you. This is generally the slowest part of the 
algorithm as read mapping is an expensive task, as such it is recommended that you save any bams that are produced by using the
<code>--bam-file-cache-directory</code> option. That way you can reuse the BAM files if you should want to rerun the analysis. Once read mapping
is completed Lorikeet then parallelizes the entire variant calling process across all references drastically increasing performance. 
Additionally you can provide both long and short read samples to Lorikeet with ease using the associate longread flags.:</p>
<pre><code>lorikeet call -r input_genomes/*.fna -1 forward_reads/*_1.fastq -2 reverse_reads/*_2.fastq -l longreads/*.bam --parallel-genome 8 --threads 24
</code></pre>
<h1 id="output-3">Output</h1>
<p>Lorikeet will create an output for each input reference genome within the supplied output folder:</p>
<pre><code>lorikeet_output --
                 | - Genome1
                 | - Genome2
                ...
                 | - GenomeN --
                              |
                              | - VCF
                              | - Consensus, Population, Subpopulation ANI
                              | - Optional Reconstructed Strain Genomes and Strain Relative Abundances    
</code></pre>

            </div>
            <div class='sidebar-right'>
                <div class='page-nav' id='page-nav'>
                    <p class='page-nav-header'>On this page</p>
                    <ul>
                        
                            <li class='page-nav-level-1'>
                                <a href='#getting-started-1'>Getting started</a>
                            </li>
                        
                            <li class='page-nav-level-1'>
                                <a href='#quick-start-2'>Quick Start</a>
                            </li>
                        
                            <li class='page-nav-level-1'>
                                <a href='#output-3'>Output</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
            <div class='wave-container'>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
                    <path fill-opacity="0.35" d="M0,192L60,213.3C120,235,240,277,360,277.3C480,277,600,235,720,192C840,149,960,107,1080,122.7C1200,139,1320,213,1380,250.7L1440,288L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path>
                    <path fill-opacity="0.5" d="M0,160L60,181.3C120,203,240,245,360,229.3C480,213,600,139,720,138.7C840,139,960,213,1080,229.3C1200,245,1320,203,1380,181.3L1440,160L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path>
                    <path fill-opacity="0.2" d="M0,224L60,197.3C120,171,240,117,360,117.3C480,117,600,171,720,186.7C840,203,960,181,1080,186.7C1200,192,1320,224,1380,240L1440,256L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path>
                </svg>
                <p>Powered by <a href='https://cli.doctave.com' target='_blank'>Doctave</a></p>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="/assets/mermaid.js?v=1636941293"></script>
    <script type="text/javascript" src="/assets/elasticlunr.js?v=1636941293"></script>
    <script type="text/javascript" src="/assets/doctave-app.js?v=1636941293"></script>
    <script type="text/javascript" src="/assets/prism.js?v=1636941293"></script>
</body>

</html>
